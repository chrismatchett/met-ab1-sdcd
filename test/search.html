{% extends "base.html" %}
{% block content %}
<h2>Search Products</h2>
<form method="get" class="mb-4">
    <div class="input-group">
        <input type="text" name="q" value="{{ query }}" class="form-control" placeholder="Search...">
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>
{% if query %}
    <p>Results for "<strong>{{ query }}</strong>":</p>
    {% if results %}
        {% for product in results %}
        <div class="card mb-2">
            <div class="card-body d-flex justify-content-between align-items-center">
                <div>
                    <strong>{{ product.name }}</strong> &mdash; {{ product.category }}
                </div>
                <div>
                    Â£{{ "%.2f"|format(product.price) }}
                    <a href="/product/{{ product.id }}" class="btn btn-sm btn-primary ms-2">View</a>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p class="text-muted">No products found.</p>
    {% endif %}
{% endif %}
{% endblock %}
